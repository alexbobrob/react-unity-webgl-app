import IUnityConfig from "./interfaces/IUnityConfig";
import { UnityVersion } from "./enums/UnityVerions";

export default class UnityContent {
  /**
   * the relative path to the build json file generated by Unity.
   * @type {string}
   * @private
   */
  private buildJsonPath: string;

  /**
   * the relative path to the unity loader javascript file.
   * @type {string}
   * @private
   */
  private unityLoaderJsPath: string;

  /**
   * the Unity configuration that will be used to start the player.
   * @type {IUnityConfig}
   * @public
   */
  public unityConfig: IUnityConfig;

  /**
   * Creates a new Unity content object. This object can be used
   * @param {string} buildJsonPath the relative path to the build json file generated by Unity.
   * @param {string} unityLoaderJsPath the relative path to the unity loader javascript file.
   * @param {IUnityConfig} unityConfig the Unity configuration that will be used to start the player.
   */
  constructor(
    buildJsonPath: string,
    unityLoaderJsPath: string,
    unityConfig?: IUnityConfig
  ) {
    this.buildJsonPath = buildJsonPath;
    this.unityLoaderJsPath = unityLoaderJsPath;
    const _unityConfig =
      typeof unityConfig === "undefined" ? ({} as IUnityConfig) : unityConfig;
    this.unityConfig = {
      isFullscreen: _unityConfig.isFullscreen || false,
      modules: _unityConfig.modules || {},
      unityVersion: UnityVersion.UNITY_2018
    } as IUnityConfig;
  }
}
